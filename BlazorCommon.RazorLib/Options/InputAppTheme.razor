@using BlazorCommon.RazorLib.Theme
<div class="bcrl_theme-select-theme">
    @{
        var themeState = ThemeRecordsCollectionService.ThemeRecordsCollectionWrap.Value;
        var applicationOptionsState = AppOptionsService.AppOptionsStateWrap.Value;
    }
    
    Theme:&nbsp;
    
    <select @onchange="OnThemeSelectChanged" class="@InputElementCssClass">
        
        <option value="@Guid.Empty.ToString()"
                selected="@CheckIsActiveValid(
                              themeState.ThemeRecordsList,
                              applicationOptionsState.Options.ThemeKey
                                ?? ThemeFacts.VisualStudioDarkThemeClone.ThemeKey)">
            Select a Theme
        </option>
        
        @foreach (var themeRecord in themeState.ThemeRecordsList)
        {
            <option value="@themeRecord.ThemeKey.Guid.ToString()"
                    selected="@CheckIsActiveSelection(
                                  themeRecord.ThemeKey,
                                  applicationOptionsState.Options.ThemeKey
                                    ?? ThemeFacts.VisualStudioDarkThemeClone.ThemeKey)">
                @themeRecord.DisplayName
            </option>
        }
    </select>
</div>